<DMLobbyScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            id: lobby_title
            text: "DM Lobby"
            font_size: '30sp'
            size_hint_y: None
            height: 80

        Label:
            text: "Verbundenen Spieler:"
            font_size: '20sp'
            size_hint_y: None
            height: 40

        # This will be populated with connected players later
        ScrollView:
            size_hint_y: 2.0
            GridLayout:
                id: player_list
                cols: 1
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: "Map vorbereiten"
            on_press: root.prepare_map()
            size_hint_y: None
            height: 80
            font_size: '20sp'

        Button:
            text: "Custom Hintergrund setzen"
            on_press: root.set_custom_background()
            size_hint_y: None
            height: 80
            font_size: '20sp'

        BoxLayout:
            size_hint_y: None
            height: 80
            spacing: 10
            TextInput:
                id: welcome_message_input
                hint_text: "Willkommensnachricht eingeben"
                font_size: '20sp'
                multiline: False
            Button:
                text: "Senden"
                size_hint_x: 0.3
                on_press: root.trigger_send_welcome_message()

        BoxLayout:
            size_hint_y: 1.0

        Button:
            text: "Spiel starten"
            on_press: root.start_game()
            size_hint_y: None
            height: 80
            font_size: '20sp'

        Button:
            text: "Zur√ºck"
            on_press: root.go_back()
            size_hint_y: None
            height: 80
            font_size: '20sp'
