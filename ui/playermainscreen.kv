#:import PlayerCharacterWidget ui.player_character_widget.PlayerCharacterWidget

<PlayerMainScreen>:
    BoxLayout:
        orientation: 'horizontal'
        padding: 10
        spacing: 10

        # Left side: Character Sheet
        PlayerCharacterWidget:
            id: character_display
            size_hint_x: 0.5
            on_show_spells: root.show_spells_popup()
            on_roll_damage: root.roll_damage()
            on_use_item: root.use_item(*args)

        # Right side: Log, Summary, and Actions
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 0.5
            spacing: 10

            Label:
                id: summary_label
                markup: True
                size_hint_y: 0.3
                text_size: self.width, None
                padding: (10, 10)

            Label:
                text: "Log"
                font_size: '20sp'
                size_hint_y: None
                height: 40

            ScrollView:
                size_hint_y: 0.7
                Label:
                    id: log_output
                    text: "Game log will appear here..."
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    markup: True

            Button:
                text: "d20 Wurf"
                on_press: root.roll_d20()
                size_hint_y: None
                height: 50

            Button:
                text: "Verbindung trennen"
                on_press: root.handle_disconnect()
                size_hint_y: None
                height: 50
